[
  {
    "name": "for",
    "cases": [
      {
        "input": "a {{for x in sfgsag}}{{x}}{{/for}} b",
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{/for}} b",
        "context": {
          "this": {
            "this": {
              "items": null
            }
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{/for}} b",
        "context": {
          "this": {
            "this": {
              "items": true
            }
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{/for}} b",
        "context": {
          "this": {
            "this": {
              "items": false
            }
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": -10
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": 0
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": 10
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": "string"
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{/for}} b1",
        "expectedAST": "[29,\"a \",[25,null,1,[29,[21,0,1]],[22,[3],0,\"items\"]],\" b1\"]",
        "context": {
          "this": {
            "items": [
              1,
              2,
              3
            ]
          }
        },
        "expectedResult": "a 123 b1"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": {
              "foo": 1,
              "bar": 2,
              "x": 3
            }
          }
        },
        "expectedResult": "a 123 b"
      },
      {
        "input": "a {{for key:x in sfgsag}}{{key}}:{{x}}{{/for}} b",
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": null
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": true
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": false
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": -10
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": 0
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": 10
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{/for}} b",
        "context": {
          "this": {
            "items": "string"
          }
        },
        "expectedResult": "a  b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{/for}} b0",
        "expectedAST": "[29,\"a \",[25,1,2,[29,[21,0,1],\":\",[21,0,2]],[22,[3],0,\"items\"]],\" b0\"]",
        "context": {
          "this": {
            "items": [
              1,
              2,
              3
            ]
          }
        },
        "expectedResult": "a 0:11:22:3 b0"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{/for}} b2",
        "context": {
          "this": {
            "items": {
              "foo": 1,
              "bar": 2,
              "x": 3
            }
          }
        },
        "expectedResult": "a foo:1bar:2x:3 b2"
      },
      {
        "input": "a {{for x in sfgsag}}{{x}}{{else}}#{{/for}} b",
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": null
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{else}}#{{/for}} b1",
        "context": {
          "this": {
            "items": true
          }
        },
        "expectedResult": "a # b1"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": false
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": -10
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": 0
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": 10
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": "string"
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": [
              1,
              2,
              3
            ]
          }
        },
        "expectedResult": "a 123 b"
      },
      {
        "input": "a {{for x in this.items}}{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": {
              "foo": 1,
              "bar": 2,
              "x": 3
            }
          }
        },
        "expectedResult": "a 123 b"
      },
      {
        "input": "a {{for key:x in sfgsag}}{{key}}:{{x}}{{else}}#{{/for}} b",
        "expectedResult": "a # b"
      },
      {
        "input": "--{{for in []}}??{{else}}HELLO{{/for}}",
        "expectedResult": "--HELLO"
      },
      {
        "input": "---{{for in []}}??{{/for}}",
        "expectedResult": "---"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": null
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": true
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": false
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": -10
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": 0
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": 10
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}}{{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": "string"
          }
        },
        "expectedResult": "a # b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}} {{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": [
              1,
              2,
              3
            ]
          }
        },
        "expectedResult": "a 0:1 1:2 2:3  b"
      },
      {
        "input": "a {{for k1:v1 in this.items}}{{k1}}:{{v1}} {{for k2:v2 in this.items}}({{k2}}:{{v2}}){{/for}} {{/for}}b",
        "expectedAST": "[29,\"a \",[25,1,2,[29,[21,0,1],\":\",[21,0,2],\" \",[25,1,2,[29,\"(\",[21,0,1],\":\",[21,0,2],\")\"],[22,[3],0,\"items\"]],\" \"],[22,[3],0,\"items\"]],\"b\"]",
        "context": {
          "this": {
            "items": [
              1,
              2,
              3
            ]
          }
        },
        "expectedResult": "a 0:1 (0:1)(1:2)(2:3) 1:2 (0:1)(1:2)(2:3) 2:3 (0:1)(1:2)(2:3) b"
      },
      {
        "input": "a {{var x = 10}}{{for r in range(1, 10)}}{{var x = r + 10}}{{x}} {{/for}} b",
        "expectedResult": "a 11 12 13 14 15 16 17 18 19 20  b"
      },
      {
        "input": "a {{for key:x in this.items}}{{key}}:{{x}} {{else}}#{{/for}} b",
        "context": {
          "this": {
            "items": {
              "foo": 1,
              "bar": 2,
              "x": 3
            }
          }
        },
        "expectedResult": "a foo:1 bar:2 x:3  b"
      },
      {
        "inputFile": "for1.tpl",
        "context": {
          "this": {
            "some_condition": true
          }
        },
        "expectedResult": "    collection is empty and some_condition"
      },
      {
        "inputFile": "for1.tpl",
        "context": {
          "this": {
            "some_condition": false
          }
        },
        "expectedResult": "    collection is empty"
      },
      {
        "inputFile": "for2.tpl",
        "context": {
          "this": {
            "collection": {
              "foo": 1,
              "bar": 2,
              "x": 3
            }
          }
        },
        "expectedResult": "    1    2    3    foo = 1    bar = 2    x = 3"
      },
      {
        "inputFile": "for3.tpl",
        "expectedResult": "    << 0, 3 >>    << 1, 3 >>    << 2, 3 >>    << 3, 3 >>"
      },
      {
        "inputFile": "for4.tpl",
        "expectedResult": "    <div>0 = 1</div>    <div>1 = 2</div>    <div>2 = 3</div>"
      },
      {
        "inputFile": "for5.tpl",
        "expectedResult": "    <div style=\"color: black\">{\"key\":\"0\",\"value\":0,\"index\":0,\"last\":9}</div>    <div style=\"color: red\">{\"key\":\"1\",\"value\":1,\"index\":1,\"last\":9}</div>    <div style=\"color: black\">{\"key\":\"2\",\"value\":2,\"index\":2,\"last\":9}</div>    <div style=\"color: red\">{\"key\":\"3\",\"value\":3,\"index\":3,\"last\":9}</div>    <div style=\"color: black\">{\"key\":\"4\",\"value\":4,\"index\":4,\"last\":9}</div>    <div style=\"color: red\">{\"key\":\"5\",\"value\":5,\"index\":5,\"last\":9}</div>    <div style=\"color: black\">{\"key\":\"6\",\"value\":6,\"index\":6,\"last\":9}</div>    <div style=\"color: red\">{\"key\":\"7\",\"value\":7,\"index\":7,\"last\":9}</div>    <div style=\"color: black\">{\"key\":\"8\",\"value\":8,\"index\":8,\"last\":9}</div>    <div style=\"color: blue\">{\"key\":\"9\",\"value\":9,\"index\":9,\"last\":9}</div>"
      },
      {
        "input": "{{for i in range(0, 10)}}{{if i = 5}}{{continue}}{{else}}{{i}}{{/if}}{{/for}}",
        "expectedResult": "01234678910"
      },
      {
        "input": "{{for i in range(0, 10)}}{{if i = 5}}{{break}}{{else}}{{i}}{{/if}}{{/for}}",
        "expectedResult": "01234"
      },
      {
        "input": "--{{for in [1, 2, 3, 4]}}HELLO{{break}}{{/for}}",
        "expectedResult": "--HELLO"
      },
      {
        "input": "--{{for in [1, 2, 3, 4]}}HELLO{{continue}}{{/for}}",
        "expectedResult": "--HELLOHELLOHELLOHELLO"
      },
      {
        "input": "{{for value in [1, 2, 3, 4]}}HELLO{{value}}_{{continue}}{{/for}}",
        "expectedResult": "HELLO1_HELLO2_HELLO3_HELLO4_"
      },
      {
        "input": "{{for value in [1, 2, 3, 4]}}HELLO{{value}}_{{continue}}!!!{{/for}}",
        "expectedResult": "HELLO1_HELLO2_HELLO3_HELLO4_"
      },
      {
        "input": "{{for in [1,2,3,4]}}HELLO{{break}}{{/for}}",
        "expectedResult": "HELLO"
      },
      {
        "input": "{{for in [1,2,3,4]}}HELLO_{{continue}}{{/for}}",
        "expectedResult": "HELLO_HELLO_HELLO_HELLO_"
      },
      {
        "input": "---{{for value in [1, 2, 3, 4]}} HELLO {{ {{ {{return 10}} }} }} {{/for}}",
        "expectedResult": "--- HELLO 10  HELLO 10  HELLO 10  HELLO 10 "
      }
    ]
  }
]


